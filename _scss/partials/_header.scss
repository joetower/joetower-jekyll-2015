// @_header.scss
// Header elements
// 

.site-header {
  @extend %clearfix;
  
  &.page-color {
    background-color: rgba($jt-green, .8);    
  }
  &.about-color {
    @include breakpoint($tablet) {    
      background-color: rgba($black,.40);
    } 
  }  
  .logo-wrap {
    text-align: center;
    @include grid-span(3,1);

    @include breakpoint($handheld) {
      @include grid-span(4,1);
      text-align: left;
    }
  }
  .logo {
    fill: $white; 
    display:inline-block;
    vertical-align: top;
    &:hover {
      filter: url(#blur-more);
      fill: rgba($white, 0.7);
    }
    svg {
      transition: all 200ms ease-in-out;
      max-width: 100%;
      height: auto;
    }
  }
  .toggle-wrap {
    @include grid-span(9,4);
    text-align: right;
    z-index: 10;
    position:relative;
    a {
      position:relative;
    }
    @include breakpoint($nav) {
      display:none;
    }
  }
  .site-nav {
    position:fixed;
    width:100%;
    left:0;
    right:0;
    top:-100%;
    overflow-y: scroll; /* has to be scroll, not auto */
    -webkit-overflow-scrolling: touch;    
    @include breakpoint($nav) {
      overflow-y: auto;
    }
    
    &.menu-closed {
      top:-100%;
      transition: all 0.4s ease;
      .menu {
        transition: all 1.5s ease-in-out;
        opacity:0;
      }
    }
    &.menu-open {
      top:0;
      bottom:0;
      left:0;
      right:0;
      transition: all 0.3s ease;
      position: fixed;
      z-index: 5;
      background-color: rgba($black, .95);
      padding:$space-quadruple $space $space;
      .menu {
        transition: all 1s ease-in-out;
        opacity:1;
      }
      a {
        font-size: 26px;
      }
    }
    @include breakpoint($nav) {
      @include grid-span(8,5);
      padding:0;
      display:block;
      position:relative;
    } 

    a {
      color: $white;
      display: block;
      line-height: 60px;
      &:hover {
        color: rgba($white, .75);
        text-decoration: none;
      }
    } 
    .menu {
      margin: 0;
      padding: 0;
      text-align: center;

      @include breakpoint($nav) {
        text-align: right;
        opacity:1;
      }       
      li {
        list-style-type: none;
        display:block;

        @include breakpoint($nav) {    
          margin: 0 0 0 $space;
          display: inline-block;
        }
        &.first {
          margin-left: 0;
        }
        &.active {
          a,
          a:hover {
            color: rgba($white, .65);
          }
        }             
      }
    }
  }
}
